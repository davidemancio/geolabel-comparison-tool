/* raphael-svg-import-classic - v0.1.3 - 2013-08-03 */
Raphael.fn.importSVG=function(a){"use strict";var b=this.set(),c={},d={"text-anchor":"start"};try{this.parseElement=function(a){if(3!=a.nodeType){var e,f={stroke:"transparent","stroke-width":0,fill:"#000"};if(a.attributes)for(e=a.attributes.length-1;e>=0;--e)f[a.attributes[e].name]=a.attributes[e].value;var g,h=a.nodeName;switch(h){case"svg":case"g":var i=a.getAttribute("id");i&&a.childNodes.length&&a.childNodes.item(1).setAttribute("id",i);var j=this.set();for(e=0;e<a.childNodes.length;++e)j.push(this.parseElement(a.childNodes.item(e)));if(f.transform){var k=/translate\(([^,]+),([^,]+)\)/.exec(f.transform);3==k.length&&j.translate(k[1],k[2])}return"none"===f.display&&j.hide(),i&&a.childNodes.length&&(c[i]=j),void 0;case"rect":f.rx&&f.ry?(f.r=(+(f.rx||0)+ +(f.ry||0))/2,delete f.rx,delete f.ry):(f.r=f.rx||f.ry||0,delete f.rx,delete f.ry);case"circle":case"ellipse":g=this[h]();break;case"path":g=this.path(f.d),delete f.d;break;case"polygon":g=this.polygon(f);break;case"polyline":g=this.polyline(f);break;case"line":g=this.line(f);break;case"image":g=this.image();break;case"text":for(var l in d)!f[l]&&d.hasOwnProperty(l)&&(f[l]=d[l]);g=this.text(f.x,f.y,a.text||a.textContent);break;default:var m=a.getElementsByTagName("svg");return m.length&&(m[0].normalize(),this.parseElement(m[0])),void 0}var n=f.transform;if(n){n=n.substring(7,n.length-1).split(" ").map(function(a){return parseFloat(a)});var o=g.matrix;o.add.apply(o,n),g.transform(o.toTransformString()),delete f.transform}g.attr(f);var p=a.getAttribute("id");return p&&(g.node.id=p),b.push(g),g}},this.parseElement(a)}catch(e){throw"SVGParseError ("+e+")"}var f,g=!1;for(f in c){g=!0;break}return g&&(b.groups=c),b},Raphael.fn.line=function(a){var b=["M",a.x1,a.y1,"L",a.x2,a.y2,"Z"];return delete a.x1,delete a.y1,delete a.x2,delete a.y2,this.path(b)},Raphael.fn.polygon=function(a){for(var b=a.points,c=["M"],d=b.split(" "),e=0;e<d.length;e++){for(var f=d[e].split(","),g=0;g<f.length;g++){var h=parseFloat(f[g]);isNaN(h)||c.push(h)}0===e&&c.push("L")}return c.push("Z"),delete a.points,this.path(c)},Raphael.fn.polyline=function(a){for(var b=a.points,c=["M"],d=b.split(" "),e=0;e<d.length;e++){for(var f=d[e].split(","),g=0;g<f.length;g++){var h=parseFloat(f[g]);isNaN(h)||c.push(h)}0===e&&c.push("L")}return delete a.points,this.path(c)};